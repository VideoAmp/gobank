dist: xenial

services:
  - docker

language: go

go:
  - 1.11.x
  - 1.12.x

git:
  depth: 1

before_install:
  - docker run -d -p 2525:2525 -p 6789:6789 expert360/mountebank start --mock

notifications:
  email: false

before_script:
  - go get -u github.com/parnurzeal/gorequest
  - go get -u github.com/onsi/ginkgo/ginkgo
  - go get -u github.com/onsi/gomega/...

script:
  - ginkgo -v -r --cover
  - go build
